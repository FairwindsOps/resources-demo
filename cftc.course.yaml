_references: {}
namespace: default
repository: sudermanjr
context: aahirkston.kepler.hillghost.com
repositories:
  sudermanjr:
    url: https://charts.sudermanjr.com
  fairwinds-incubator:
    url: https://charts.fairwinds.com/incubator
namespace_management:
  default:
    metadata:
      annotations:
        ManagedBy: Reckoner
    settings:
      overwrite: true
charts:
  goldilocks:
    chart: goldilocks
    namespace: goldilocks
    version: 5.3.0
    repository: fairwinds-stable
    values:
      controller:
        enabled: true
        resources:
          requests:
            memory: 128Mi
            cpu: 50m
          limits:
            memory: 128Mi
            cpu: 50m
      dashboard:
        ingress:
          enabled: true
          annotations:
            kubernetes.io/ingress.class: nginx-ingress
            cert-manager.io/cluster-issuer: letsencrypt-prod
          hosts:
          - host: goldilocks.kepler.hillghost.com
            paths:
              - path: /
                type: ImplementationSpecific
          tls:
          - secretName: goldilocks-tls
            hosts:
            - goldilocks.kepler.hillghost.com
  load:
    chart: load-generator
    repository: fairwinds-incubator
    namespace: load
    values:
      image:
        tag: 0.27.1
      replicaCount: 10
      resources:
        requests:
          cpu: 60m
          memory: 150Mi
        limits:
          cpu: 60m
          memory: 150Mi
      k6:
        duration: 12h
        VUs: 5
        maxVUs: 5
        rps: 200
      loadScript: |
        // Creator: k6 Browser Recorder 0.6.0

        import { sleep, group, check } from 'k6'
        import http from 'k6/http'

        export const options = { vus: 10, iterations: '10' }

        export default function main() {
          let response

          group('page_1 - https://yelb.kepler.hillghost.com/', function () {
            response = http.get(`https://yelb.kepler.hillghost.com`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/ihop`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/chipotle`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/bucadibeppo`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/outback`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/outback`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/outback`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/outback`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            sleep(0.5)
            response = http.get(`https://yelb.kepler.hillghost.com/api/chipotle`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
            response = http.get(`https://yelb.kepler.hillghost.com/api/getvotes`, {
              headers: {
                host: `yelb.kepler.hillghost.com`,
                accept: 'application/json, text/plain, */*',
                'accept-language': 'en-US,en;q=0.5',
                'accept-encoding': 'gzip, deflate',
                dnt: '1',
                connection: 'keep-alive',
                'sec-gpc': '1',
              },
            })
            check(response, { 'status equals 200': response => response.status.toString() === '200' })
          })
        }

